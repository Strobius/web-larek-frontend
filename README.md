# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
# MVP

Проект выполнен в соответствии с архитектурным паттерном `MVP` 

`MVP` — это архитектурный паттерн, который разделяет приложение на три основных компонента:

- `Model`: Управляет данными, логикой и правилами работы с данными.
- `View`: Отвечает за отображение данных и получение пользовательского ввода. 
- `Presenter`: Посредник между Model и View. Обрабатывает пользовательский ввод, запрашивает данные у Model и обновляет View.
- Использование MVP позволяет упростить тестирование и поддержку кода, а также делает код более модульным и расширяемым.

# Базовые классы 

### 1. Класс EventEmitter  

Класс, предназначенный для работы с событиями. Обеспечивает функциональность по добавлению и удалению слушателей событий, а также по их обработке.

Методы: on - устанавливает обработчик на событие off - сбрасывает обработчик с события emit - уведомление подписчика о наступлении события onAll - устанавливает обработчик на все события offAll - сбрасывает обработчик на всех событиях trigger - сделать коллбек триггер, генерирующий событие при вызове

### 2. Класс Api

Класс, отвечающий за выполнение HTTP-запросов к серверу. Поддерживает методы для GET, POST, PUT и DELETE запросов, обеспечивая взаимодействие с внешними API.

Методы класса: handleResponse - возвращает Json-ответ или сообщение об ошибке get - выполняет GET-запросы к адресу post - выполняет запрос с использованием предоставленого адреса

### 3. Класс Component

Базовый класс для компонентов пользовательского интерфейса. Отвечает за отрисовку элементов интерфейса и предоставляет базовую функциональность для работы с DOM, которая может быть расширена дочерними компонентами.

Методы класса: toggleClass - переключает класс компонента setText - устанавливает текстовое содержимое для компонента setDisabled - меняет статус блокировки компонента setHidden - скрывает компонент setVisible - делает компонент видимым setImage - устанавливает для компонента изображение с альтернативным текстом render - возвращает корневой DOM-элемент

### 4. Класс Model 

Класс, отвечающий за управление данными модели и уведомление других компонентов о изменениях в данных. Обеспечивает функционал наблюдателя, позволяя подписчикам получать уведомления о событиях изменения данных.

Методы класса: emitChanges - сообщает всем, что модель поменялась

# Общие классы 

### 1. Класс Data 

Класс, отвечающий за хранение и управление данными. Предоставляет интерфейс для доступа к данным другим компонентам системы. Наследуется от класса Model, что позволяет уведомлять другие компоненты об изменениях в данных.

### 2. Класс WLApi

Класс для работы с API, отвечающий за получение списка товаров. Наследуется от класса Api. 

# Компоненты 

### 1. Класс Card

Класс для отображения данных карточки товара. Реализует функционал для отрисовки цены, описания, названия, изображения и категории товара. Наследуется от класса Component.

### 2. Класс Form

Базовый класс для работы с формами ввода данных. Включает общие методы для обработки ввода, проверки валидации и отправки данных. Наследуется от класса Component.

### 3. Класс Address

Класс, отвечающий за форму ввода адреса доставки. Предоставляет пользователю возможность вводить и сохранять информацию об адресе. Наследуется от класса Form.

Методы класса: paymentButtons - управляет состоянием кнопки оплаты; set address - устанавливает адрес доставки;

### 4. Класс Contacts

Класс, отвечающий за форму ввода контактных данных, таких как почта и телефон. Наследуется от класса Form.

Методы класса: phone - устанавливает номер телефона; email - устанавливает email;

### 5. Класс Modal

Класс для работы с модальными окнами. Обеспечивает функционал для открытия и закрытия модальных окон. Наследуется от класса Component.

### 6. Класс Page

Класс, отвечающий за отображение каталога товаров и управление счетчиком товаров, добавленных в корзину. Наследуется от класса Component.
 
### 7. Класс Basket

Класс для отображения товаров в корзине и подсчета общей стоимости товаров. Наследуется от класса Component.

### 8. Класс Success

Класс для отображения сообщения об успешном завершении покупки. Наследуется от класса Component.

Методы класса: totalPrice - устанавливает значение общей суммы заказа

## Типы данных 
```
export interface IProduct  {
    name: string;
    id: string;
    description: string;
    price: number;
    imageUrl: string;
    category: string;
};

export interface IData {
    productCatalog: IProduct[];
    basket: IProduct[];
    Contacts: IContactForm;
    Adress:  IAdress;
}

export interface IContactForm {
    email: string;
    phone: string;
}

export interface IAdress {
    address: string;
}

export interface IPage {
    catalog: HTMLElement[];
    locked: boolean;
}

export interface IBascket { 
    numberPosition: number;
    totalPrice: number;
    selected: HTMLElement[];
}

export interface ISuccess {
    totalPrice: number;
}

export interface IWLApi {
    ProductCatalog: () => Promise<IProduct[]>;
}
